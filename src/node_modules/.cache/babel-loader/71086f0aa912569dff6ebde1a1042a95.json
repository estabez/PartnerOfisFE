{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from\"react\";import{withRouter}from\"react-router-dom\";import{connect}from\"react-redux\";import{setAuthUser,setToken as _setToken}from\"../redux/actions\";import{Button}from'reactstrap';// RestApi Connection\nimport RestApiModule from'../RestApiModule';var LogoutButton=/*#__PURE__*/function(_React$Component){_inherits(LogoutButton,_React$Component);function LogoutButton(props){var _this;_classCallCheck(this,LogoutButton);_this=_possibleConstructorReturn(this,_getPrototypeOf(LogoutButton).call(this,props));_this.restApi=new RestApiModule();return _this;}_createClass(LogoutButton,[{key:\"handleLogout\",value:function handleLogout(){var _this2=this;this.restApi.callApi('logout',{token:this.props.token}).then(function(r){_this2.props.setUser();_this2.props.setToken();_this2.props.history.push('/login');});}},{key:\"render\",value:function render(){var _this$props=this.props,language=_this$props.language,editOn=_this$props.editOn;if(language){return React.createElement(Button,{color:'danger',disabled:editOn,\"data-place\":'bottom',\"data-tip\":language.logoutButtonText,onClick:this.handleLogout.bind(this)},React.createElement(\"i\",{className:\"icon icon-cross\"}));}else{return React.createElement(React.Fragment,null);}}}]);return LogoutButton;}(React.Component);function mapStateToProps(state){return{token:state.token,language:state.language,editOn:state.editOn};}function mapDispatchToProps(dispatch){return{setUser:function setUser(){return dispatch(setAuthUser(null));},setToken:function setToken(){return dispatch(_setToken(null));}};}export default connect(mapStateToProps,mapDispatchToProps)(withRouter(LogoutButton));","map":{"version":3,"sources":["C:/Users/ezerdon/Desktop/INWI/svn reps/E2E_Topology/E2ETopologyFrontend/src/src/components/LogoutButton.jsx"],"names":["React","withRouter","connect","setAuthUser","setToken","Button","RestApiModule","LogoutButton","props","restApi","callApi","token","then","r","setUser","history","push","language","editOn","logoutButtonText","handleLogout","bind","Component","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"21BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,WAAR,CAAqBC,QAAQ,GAARA,CAAAA,SAArB,KAAoC,kBAApC,CACA,OAAQC,MAAR,KAAqB,YAArB,CAEA;AACA,MAAOC,CAAAA,aAAP,KAA0B,kBAA1B,C,GAEMC,CAAAA,Y,kFAEF,sBAAYC,KAAZ,CAAmB,8CACf,8EAAMA,KAAN,GAEA,MAAKC,OAAL,CAAe,GAAIH,CAAAA,aAAJ,EAAf,CAHe,aAIlB,C,4EAEc,iBAEX,KAAKG,OAAL,CAAaC,OAAb,CAAqB,QAArB,CAA+B,CAC3BC,KAAK,CAAE,KAAKH,KAAL,CAAWG,KADS,CAA/B,EAEGC,IAFH,CAEQ,SAACC,CAAD,CAAO,CAEX,MAAI,CAACL,KAAL,CAAWM,OAAX,GACA,MAAI,CAACN,KAAL,CAAWJ,QAAX,GACA,MAAI,CAACI,KAAL,CAAWO,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,EACH,CAPD,EAQH,C,uCAEQ,iBACsB,KAAKR,KAD3B,CACES,QADF,aACEA,QADF,CACYC,MADZ,aACYA,MADZ,CAGL,GAAID,QAAJ,CAAc,CACV,MACI,qBAAC,MAAD,EAAQ,KAAK,CAAE,QAAf,CACQ,QAAQ,CAAEC,MADlB,CAEQ,aAAY,QAFpB,CAGQ,WAAUD,QAAQ,CAACE,gBAH3B,CAIQ,OAAO,CAAE,KAAKC,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAJjB,EAKI,yBAAG,SAAS,CAAC,iBAAb,EALJ,CADJ,CASH,CAVD,IAUO,CACH,MACI,yCADJ,CAGH,CAEJ,C,0BAvCsBrB,KAAK,CAACsB,S,EA0CjC,QAASC,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAC5B,MAAO,CACHb,KAAK,CAAEa,KAAK,CAACb,KADV,CAEHM,QAAQ,CAAEO,KAAK,CAACP,QAFb,CAGHC,MAAM,CAAEM,KAAK,CAACN,MAHX,CAAP,CAKH,CAED,QAASO,CAAAA,kBAAT,CAA4BC,QAA5B,CAAsC,CAClC,MAAO,CACHZ,OAAO,CAAE,yBAAMY,CAAAA,QAAQ,CAACvB,WAAW,CAAC,IAAD,CAAZ,CAAd,EADN,CAEHC,QAAQ,CAAE,0BAAMsB,CAAAA,QAAQ,CAACtB,SAAQ,CAAC,IAAD,CAAT,CAAd,EAFP,CAAP,CAIH,CAED,cAAeF,CAAAA,OAAO,CAACqB,eAAD,CAAkBE,kBAAlB,CAAP,CAA6CxB,UAAU,CAACM,YAAD,CAAvD,CAAf","sourcesContent":["import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {setAuthUser, setToken} from \"../redux/actions\";\r\nimport {Button} from 'reactstrap';\r\n\r\n// RestApi Connection\r\nimport RestApiModule from '../RestApiModule';\r\n\r\nclass LogoutButton extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.restApi = new RestApiModule();\r\n    }\r\n\r\n    handleLogout() {\r\n\r\n        this.restApi.callApi('logout', {\r\n            token: this.props.token\r\n        }).then((r) => {\r\n\r\n            this.props.setUser();\r\n            this.props.setToken();\r\n            this.props.history.push('/login')\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {language, editOn} = this.props;\r\n\r\n        if (language) {\r\n            return (\r\n                <Button color={'danger'}\r\n                        disabled={editOn}\r\n                        data-place={'bottom'}\r\n                        data-tip={language.logoutButtonText}\r\n                        onClick={this.handleLogout.bind(this)}>\r\n                    <i className=\"icon icon-cross\"/>\r\n                </Button>\r\n            )\r\n        } else {\r\n            return (\r\n                <></>\r\n            )\r\n        }\r\n\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        token: state.token,\r\n        language: state.language,\r\n        editOn: state.editOn\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        setUser: () => dispatch(setAuthUser(null)),\r\n        setToken: () => dispatch(setToken(null))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(LogoutButton));"]},"metadata":{},"sourceType":"module"}