{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\SSCM\\\\ss\\\\src\\\\src\\\\App.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router';\nimport { Route, Switch, HashRouter } from \"react-router-dom\";\nimport ReactTooltip from 'react-tooltip';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\nimport 'bootstrap/scss/bootstrap.scss';\nimport './css/App.scss';\nimport 'handsontable/dist/handsontable.full.css';\nimport { connect } from 'react-redux';\nimport { setLang, setAuthUser, setToken } from \"./redux/actions\"; //Private Routing\n\nimport { PrivateRoute } from \"./components/PrivateRoute\"; //AuthModule\n\nimport AuthModule from './AuthModule'; // Import polling\n\nimport ImportPolling from './components/ImportPolling'; // Language file\n\nimport en from './languages/en'; // Views\n\nimport Login from './views/Login';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.authModule = new AuthModule();\n  }\n\n  componentDidMount() {\n    // default lang\n    this.props.setLang(en, 'en');\n    const token = localStorage.getItem('e2eToken');\n    const u = localStorage.getItem('user');\n\n    if (token !== null) {\n      this.authModule.registerUser(token, u);\n    } else {\n      this.props.setAuthUser(null);\n      this.props.setToken(null);\n    }\n  }\n\n  render() {\n    const {\n      authUser,\n      location\n    } = this.props;\n    const requestedPath = location.pathname;\n\n    if (authUser !== undefined) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: 'container-fluid',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(ReactTooltip, {\n        effect: 'solid',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(HashRouter, {\n        basename: process.env.PUBLIC_URL,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Switch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        path: \"/\",\n        exact: true,\n        component: Login,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/login\",\n        exact: true,\n        component: Login,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(PrivateRoute, {\n        key: requestedPath,\n        authUser: authUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 29\n        }\n      }))), /*#__PURE__*/React.createElement(ImportPolling, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(React.Fragment, null);\n    }\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    lang: state.lang,\n    language: state.language,\n    maximize: state.maximize,\n    authUser: state.user\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    setLang: (langFile, lang) => dispatch(setLang(langFile, lang)),\n    setAuthUser: user => dispatch(setAuthUser(user)),\n    setToken: token => dispatch(setToken(token))\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(App));","map":{"version":3,"sources":["C:/Users/ezerdon/Desktop/SSCM/ss/src/src/App.js"],"names":["React","withRouter","Route","Switch","HashRouter","ReactTooltip","connect","setLang","setAuthUser","setToken","PrivateRoute","AuthModule","ImportPolling","en","Login","App","Component","constructor","props","authModule","componentDidMount","token","localStorage","getItem","u","registerUser","render","authUser","location","requestedPath","pathname","undefined","process","env","PUBLIC_URL","mapStateToProps","state","lang","language","maximize","user","mapDispatchToProps","dispatch","langFile"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {withRouter} from 'react-router';\nimport {Route, Switch, HashRouter} from \"react-router-dom\";\nimport ReactTooltip from 'react-tooltip'\n\n\nimport 'bootstrap/dist/js/bootstrap.bundle.min'\nimport 'bootstrap/scss/bootstrap.scss';\nimport './css/App.scss';\nimport 'handsontable/dist/handsontable.full.css';\n\nimport {connect} from 'react-redux';\nimport {setLang, setAuthUser, setToken} from \"./redux/actions\";\n\n\n//Private Routing\nimport {PrivateRoute} from \"./components/PrivateRoute\";\n\n//AuthModule\nimport AuthModule from './AuthModule';\n\n// Import polling\nimport ImportPolling from './components/ImportPolling'\n\n// Language file\nimport en from './languages/en';\n\n// Views\nimport Login from './views/Login';\n\nclass App extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.authModule = new AuthModule();\n    }\n\n    componentDidMount() {\n        // default lang\n        this.props.setLang(en, 'en');\n\n        const token = localStorage.getItem('e2eToken');\n        const u = localStorage.getItem('user');\n\n        if (token !== null) {\n            this.authModule.registerUser(token, u);\n        } else {\n            this.props.setAuthUser(null)\n            this.props.setToken(null)\n        }\n    }\n\n    render() {\n\n        const {authUser, location} = this.props;\n        const requestedPath = location.pathname;\n\n        if (authUser !== undefined) {\n            return (\n                <div className={'container-fluid'}>\n                    <ReactTooltip effect={'solid'}/>\n                    <HashRouter basename={process.env.PUBLIC_URL}>\n                        <Switch>\n                            <Route path=\"/\" exact component={Login}/>\n                            <Route path=\"/login\" exact component={Login}/>\n\n                            <PrivateRoute key={requestedPath} authUser={authUser} />\n                        </Switch>\n                    </HashRouter>\n                    <ImportPolling />\n                </div>\n            )\n        } else {\n            return <></>;\n        }\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        lang: state.lang,\n        language: state.language,\n        maximize: state.maximize,\n        authUser: state.user\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        setLang: (langFile, lang) => dispatch(setLang(langFile, lang)),\n        setAuthUser: (user) => dispatch(setAuthUser(user)),\n        setToken: (token) => dispatch(setToken(token))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(App));\n"]},"metadata":{},"sourceType":"module"}