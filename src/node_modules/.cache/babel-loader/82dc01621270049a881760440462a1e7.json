{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\SSCM\\\\ss\\\\src\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\SSCM\\\\ss\\\\src\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\SSCM\\\\ss\\\\src\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\SSCM\\\\ss\\\\src\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\SSCM\\\\ss\\\\src\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\SSCM\\\\ss\\\\src\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{connect}from\"react-redux\";import{Input}from'reactstrap';import{setRadioSites as _setRadioSites,setSelectedRegion as _setSelectedRegion,setSelectedRadioSite as _setSelectedRadioSite}from\"../redux/actions\";import RestApiModule from'../RestApiModule';var SelectRegion=/*#__PURE__*/function(_React$Component){_inherits(SelectRegion,_React$Component);var _super=_createSuper(SelectRegion);function SelectRegion(props){var _this;_classCallCheck(this,SelectRegion);_this=_super.call(this,props);_this.restApi=new RestApiModule();return _this;}_createClass(SelectRegion,[{key:\"handleSelectedRegion\",value:function(){var _handleSelectedRegion=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ev){var _this2=this;var val,token;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:val=ev.target.value;val=+val===0?this.props.regions[0]:val;_context2.next=4;return this.props.setSelectedRegion(val);case 4:token=this.props.token;this.restApi.callApi('getRadioListByRegion',{region:val,token:token}).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(response){var list;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return response.List.map(function(item){return item.value;});case 2:list=_context.sent;_this2.props.setRadioSites(list.sort());_this2.props.setSelectedRadioSite(undefined);case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref.apply(this,arguments);};}());this.props.handleRegionChange(true);// this should return true to parent for reset activePage value;\ncase 7:case\"end\":return _context2.stop();}}},_callee2,this);}));function handleSelectedRegion(_x){return _handleSelectedRegion.apply(this,arguments);}return handleSelectedRegion;}()},{key:\"render\",value:function render(){var _this$props=this.props,language=_this$props.language,regions=_this$props.regions,editOn=_this$props.editOn,region=_this$props.region;if(language&&regions){return/*#__PURE__*/React.createElement(Input,{type:'select',className:'custom-select',disabled:editOn,onChange:this.handleSelectedRegion.bind(this),value:region},regions.map(function(value){return/*#__PURE__*/React.createElement(\"option\",{key:value,value:value},value);}));}else{return/*#__PURE__*/React.createElement(React.Fragment,null);}}}]);return SelectRegion;}(React.Component);function mapStateToProps(state){return{language:state.language,token:state.token,regions:state.regions,region:state.region,editOn:state.editOn};}function mapDispatchToProps(dispatch){return{setSelectedRegion:function setSelectedRegion(region){dispatch(_setSelectedRegion(region));},setRadioSites:function setRadioSites(list){dispatch(_setRadioSites(list));},setSelectedRadioSite:function setSelectedRadioSite(radioSite){dispatch(_setSelectedRadioSite(radioSite));}};}export default connect(mapStateToProps,mapDispatchToProps)(SelectRegion);","map":{"version":3,"sources":["C:/Users/ezerdon/Desktop/SSCM/ss/src/src/components/SelectRegion.jsx"],"names":["React","connect","Input","setRadioSites","setSelectedRegion","setSelectedRadioSite","RestApiModule","SelectRegion","props","restApi","ev","val","target","value","regions","token","callApi","region","then","response","List","map","item","list","sort","undefined","handleRegionChange","language","editOn","handleSelectedRegion","bind","Component","mapStateToProps","state","mapDispatchToProps","dispatch","radioSite"],"mappings":"i9BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,KAAR,KAAoB,YAApB,CACA,OAAQC,aAAa,GAAbA,CAAAA,cAAR,CAAuBC,iBAAiB,GAAjBA,CAAAA,kBAAvB,CAA0CC,oBAAoB,GAApBA,CAAAA,qBAA1C,KAAqE,kBAArE,CAEA,MAAOC,CAAAA,aAAP,KAA0B,kBAA1B,C,GAEMC,CAAAA,Y,wHAEF,sBAAYC,KAAZ,CAAmB,8CACf,uBAAMA,KAAN,EAEA,MAAKC,OAAL,CAAe,GAAIH,CAAAA,aAAJ,EAAf,CAHe,aAIlB,C,4KAE0BI,E,oJACnBC,G,CAAMD,EAAE,CAACE,MAAH,CAAUC,K,CAEpBF,GAAG,CAAG,CAACA,GAAD,GAAS,CAAT,CAAa,KAAKH,KAAL,CAAWM,OAAX,CAAmB,CAAnB,CAAb,CAAqCH,GAA3C,C,uBAEM,MAAKH,KAAL,CAAWJ,iBAAX,CAA6BO,GAA7B,C,QAECI,K,CAAS,KAAKP,K,CAAdO,K,CAEP,KAAKN,OAAL,CAAaO,OAAb,CAAqB,sBAArB,CAA6C,CACzCC,MAAM,CAAEN,GADiC,CAEzCI,KAAK,CAALA,KAFyC,CAA7C,EAGGG,IAHH,0FAGQ,iBAAOC,QAAP,iJAEeA,CAAAA,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACC,IAAD,CAAU,CAC3C,MAAOA,CAAAA,IAAI,CAACT,KAAZ,CACH,CAFkB,CAFf,QAEEU,IAFF,eAMJ,MAAI,CAACf,KAAL,CAAWL,aAAX,CAAyBoB,IAAI,CAACC,IAAL,EAAzB,EACA,MAAI,CAAChB,KAAL,CAAWH,oBAAX,CAAgCoB,SAAhC,EAPI,sDAHR,iEAcA,KAAKjB,KAAL,CAAWkB,kBAAX,CAA8B,IAA9B,EAAoC;4NAG/B,iBACuC,KAAKlB,KAD5C,CACEmB,QADF,aACEA,QADF,CACYb,OADZ,aACYA,OADZ,CACqBc,MADrB,aACqBA,MADrB,CAC6BX,MAD7B,aAC6BA,MAD7B,CAGL,GAAIU,QAAQ,EAAIb,OAAhB,CAAyB,CACrB,mBACI,oBAAC,KAAD,EAAO,IAAI,CAAE,QAAb,CAAuB,SAAS,CAAE,eAAlC,CACO,QAAQ,CAAEc,MADjB,CAEO,QAAQ,CAAE,KAAKC,oBAAL,CAA0BC,IAA1B,CAA+B,IAA/B,CAFjB,CAGO,KAAK,CAAEb,MAHd,EAKKH,OAAO,CAACO,GAAR,CAAY,SAACR,KAAD,CAAW,CACpB,mBAAQ,8BAAQ,GAAG,CAAEA,KAAb,CAAoB,KAAK,CAAEA,KAA3B,EAAmCA,KAAnC,CAAR,CACH,CAFA,CALL,CADJ,CAYH,CAbD,IAaO,CACH,mBACI,wCADJ,CAGH,CACJ,C,0BAvDsBb,KAAK,CAAC+B,S,EA0DjC,QAASC,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAC5B,MAAO,CACHN,QAAQ,CAAEM,KAAK,CAACN,QADb,CAEHZ,KAAK,CAAEkB,KAAK,CAAClB,KAFV,CAGHD,OAAO,CAAEmB,KAAK,CAACnB,OAHZ,CAIHG,MAAM,CAAEgB,KAAK,CAAChB,MAJX,CAKHW,MAAM,CAAEK,KAAK,CAACL,MALX,CAAP,CAOH,CAED,QAASM,CAAAA,kBAAT,CAA4BC,QAA5B,CAAsC,CAClC,MAAO,CACH/B,iBAAiB,CAAE,2BAACa,MAAD,CAAY,CAACkB,QAAQ,CAAC/B,kBAAiB,CAACa,MAAD,CAAlB,CAAR,CAAoC,CADjE,CAEHd,aAAa,CAAE,uBAACoB,IAAD,CAAU,CAACY,QAAQ,CAAChC,cAAa,CAACoB,IAAD,CAAd,CAAR,CAA8B,CAFrD,CAGHlB,oBAAoB,CAAE,8BAAC+B,SAAD,CAAe,CAACD,QAAQ,CAAC9B,qBAAoB,CAAC+B,SAAD,CAArB,CAAR,CAA0C,CAH7E,CAAP,CAMH,CAED,cAAenC,CAAAA,OAAO,CAAC+B,eAAD,CAAkBE,kBAAlB,CAAP,CAA6C3B,YAA7C,CAAf","sourcesContent":["import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {Input} from 'reactstrap';\r\nimport {setRadioSites, setSelectedRegion, setSelectedRadioSite} from \"../redux/actions\";\r\n\r\nimport RestApiModule from '../RestApiModule'\r\n\r\nclass SelectRegion extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.restApi = new RestApiModule();\r\n    }\r\n\r\n    async handleSelectedRegion(ev) {\r\n        let val = ev.target.value;\r\n\r\n        val = +val === 0 ? this.props.regions[0] : val;\r\n\r\n        await this.props.setSelectedRegion(val);\r\n\r\n        const {token} = this.props;\r\n\r\n        this.restApi.callApi('getRadioListByRegion', {\r\n            region: val,\r\n            token\r\n        }).then(async (response) => {\r\n\r\n            const list = await response.List.map((item) => {\r\n                return item.value;\r\n            });\r\n\r\n            this.props.setRadioSites(list.sort());\r\n            this.props.setSelectedRadioSite(undefined);\r\n\r\n        })\r\n\r\n        this.props.handleRegionChange(true) // this should return true to parent for reset activePage value;\r\n    }\r\n\r\n    render() {\r\n        const {language, regions, editOn, region} = this.props;\r\n\r\n        if (language && regions) {\r\n            return (\r\n                <Input type={'select'} className={'custom-select'}\r\n                       disabled={editOn}\r\n                       onChange={this.handleSelectedRegion.bind(this)}\r\n                       value={region}\r\n                >\r\n                    {regions.map((value) => {\r\n                        return (<option key={value} value={value}>{value}</option>)\r\n                    })\r\n                    }\r\n                </Input>\r\n            )\r\n        } else {\r\n            return (\r\n                <></>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        language: state.language,\r\n        token: state.token,\r\n        regions: state.regions,\r\n        region: state.region,\r\n        editOn: state.editOn\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        setSelectedRegion: (region) => {dispatch(setSelectedRegion(region))},\r\n        setRadioSites: (list) => {dispatch(setRadioSites(list))},\r\n        setSelectedRadioSite: (radioSite) => {dispatch(setSelectedRadioSite(radioSite))}\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SelectRegion);"]},"metadata":{},"sourceType":"module"}