{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import{withRouter}from\"react-router-dom\";import{connect}from\"react-redux\";import{setAuthUser,setToken as _setToken}from\"../redux/actions\";import{Button}from'reactstrap';// RestApi Connection\nimport RestApiModule from'../RestApiModule';var LogoutButton=/*#__PURE__*/function(_React$Component){_inherits(LogoutButton,_React$Component);var _super=_createSuper(LogoutButton);function LogoutButton(props){var _this;_classCallCheck(this,LogoutButton);_this=_super.call(this,props);_this.restApi=new RestApiModule();return _this;}_createClass(LogoutButton,[{key:\"handleLogout\",value:function handleLogout(){var _this2=this;this.restApi.callApi('logout',{token:this.props.token}).then(function(){_this2.props.setUser();_this2.props.setToken();_this2.props.history.push('/login');}).catch(function(err){console.log(err);});}},{key:\"render\",value:function render(){var _this$props=this.props,language=_this$props.language,editOn=_this$props.editOn;if(language){return/*#__PURE__*/React.createElement(Button,{color:'danger',disabled:editOn,\"data-place\":'bottom',\"data-tip\":language.logoutButtonText,onClick:this.handleLogout.bind(this)},/*#__PURE__*/React.createElement(\"i\",{className:\"icon icon-cross\"}));}else{return/*#__PURE__*/React.createElement(React.Fragment,null);}}}]);return LogoutButton;}(React.Component);function mapStateToProps(state){return{token:state.token,language:state.language,editOn:state.editOn};}function mapDispatchToProps(dispatch){return{setUser:function setUser(){return dispatch(setAuthUser(null));},setToken:function setToken(){return dispatch(_setToken(null));}};}export default connect(mapStateToProps,mapDispatchToProps)(withRouter(LogoutButton));","map":{"version":3,"sources":["C:/Users/ezerdon/Desktop/INWI/svn reps/E2E_Topology/E2ETopologyFrontend/src/src/components/LogoutButton.jsx"],"names":["React","withRouter","connect","setAuthUser","setToken","Button","RestApiModule","LogoutButton","props","restApi","callApi","token","then","setUser","history","push","catch","err","console","log","language","editOn","logoutButtonText","handleLogout","bind","Component","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"4yBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,WAAR,CAAqBC,QAAQ,GAARA,CAAAA,SAArB,KAAoC,kBAApC,CACA,OAAQC,MAAR,KAAqB,YAArB,CAEA;AACA,MAAOC,CAAAA,aAAP,KAA0B,kBAA1B,C,GAEMC,CAAAA,Y,wHAEF,sBAAYC,KAAZ,CAAmB,8CACf,uBAAMA,KAAN,EAEA,MAAKC,OAAL,CAAe,GAAIH,CAAAA,aAAJ,EAAf,CAHe,aAIlB,C,4EAEc,iBAEX,KAAKG,OAAL,CAAaC,OAAb,CAAqB,QAArB,CAA+B,CAC3BC,KAAK,CAAE,KAAKH,KAAL,CAAWG,KADS,CAA/B,EAGGC,IAHH,CAGQ,UAAM,CAEV,MAAI,CAACJ,KAAL,CAAWK,OAAX,GACA,MAAI,CAACL,KAAL,CAAWJ,QAAX,GACA,MAAI,CAACI,KAAL,CAAWM,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,EAEH,CATD,EASGC,KATH,CASS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAXD,EAYH,C,uCAEQ,iBACsB,KAAKT,KAD3B,CACEY,QADF,aACEA,QADF,CACYC,MADZ,aACYA,MADZ,CAGL,GAAID,QAAJ,CAAc,CACV,mBACI,oBAAC,MAAD,EAAQ,KAAK,CAAE,QAAf,CACQ,QAAQ,CAAEC,MADlB,CAEQ,aAAY,QAFpB,CAGQ,WAAUD,QAAQ,CAACE,gBAH3B,CAIQ,OAAO,CAAE,KAAKC,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAJjB,eAKI,yBAAG,SAAS,CAAC,iBAAb,EALJ,CADJ,CASH,CAVD,IAUO,CACH,mBACI,wCADJ,CAGH,CAEJ,C,0BA3CsBxB,KAAK,CAACyB,S,EA8CjC,QAASC,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAC5B,MAAO,CACHhB,KAAK,CAAEgB,KAAK,CAAChB,KADV,CAEHS,QAAQ,CAAEO,KAAK,CAACP,QAFb,CAGHC,MAAM,CAAEM,KAAK,CAACN,MAHX,CAAP,CAKH,CAED,QAASO,CAAAA,kBAAT,CAA4BC,QAA5B,CAAsC,CAClC,MAAO,CACHhB,OAAO,CAAE,yBAAMgB,CAAAA,QAAQ,CAAC1B,WAAW,CAAC,IAAD,CAAZ,CAAd,EADN,CAEHC,QAAQ,CAAE,0BAAMyB,CAAAA,QAAQ,CAACzB,SAAQ,CAAC,IAAD,CAAT,CAAd,EAFP,CAAP,CAIH,CAED,cAAeF,CAAAA,OAAO,CAACwB,eAAD,CAAkBE,kBAAlB,CAAP,CAA6C3B,UAAU,CAACM,YAAD,CAAvD,CAAf","sourcesContent":["import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {setAuthUser, setToken} from \"../redux/actions\";\r\nimport {Button} from 'reactstrap';\r\n\r\n// RestApi Connection\r\nimport RestApiModule from '../RestApiModule';\r\n\r\nclass LogoutButton extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.restApi = new RestApiModule();\r\n    }\r\n\r\n    handleLogout() {\r\n\r\n        this.restApi.callApi('logout', {\r\n            token: this.props.token\r\n\r\n        }).then(() => {\r\n\r\n            this.props.setUser();\r\n            this.props.setToken();\r\n            this.props.history.push('/login')\r\n\r\n        }).catch((err) => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {language, editOn} = this.props;\r\n\r\n        if (language) {\r\n            return (\r\n                <Button color={'danger'}\r\n                        disabled={editOn}\r\n                        data-place={'bottom'}\r\n                        data-tip={language.logoutButtonText}\r\n                        onClick={this.handleLogout.bind(this)}>\r\n                    <i className=\"icon icon-cross\"/>\r\n                </Button>\r\n            )\r\n        } else {\r\n            return (\r\n                <></>\r\n            )\r\n        }\r\n\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        token: state.token,\r\n        language: state.language,\r\n        editOn: state.editOn\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        setUser: () => dispatch(setAuthUser(null)),\r\n        setToken: () => dispatch(setToken(null))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(LogoutButton));"]},"metadata":{},"sourceType":"module"}