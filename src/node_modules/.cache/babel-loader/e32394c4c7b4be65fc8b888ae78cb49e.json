{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\SSCM\\\\ss\\\\src\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\SSCM\\\\ss\\\\src\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\SSCM\\\\ss\\\\src\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\SSCM\\\\ss\\\\src\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\SSCM\\\\ss\\\\src\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{connect}from\"react-redux\";import{withRouter}from'react-router-dom';import{Row,Col,Card,CardBody,CardFooter,FormGroup,Button,Alert}from'reactstrap';// RestApi Connection\nimport RestApiModule from'../RestApiModule';//Crypto Module\nimport CryptoModule from'../CryptoModule';//AuthModule\nimport AuthModule from'../AuthModule';import LanguageButton from'../components/LanguageButton';import Copyright from\"../components/Copyright\";import Spinner from'../components/Spinner';import{setAuthUser,setToken as _setToken,spinnerToggle}from\"../redux/actions\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.state={username:\"\",password:\"\",loginError:false};_this.restApi=new RestApiModule();_this.crypto=new CryptoModule();_this.authModule=new AuthModule();return _this;}_createClass(Login,[{key:\"handleChange\",value:function handleChange(event){this.setState(_defineProperty({},event.target.name,event.target.value));}},{key:\"validateForm\",value:function validateForm(){return this.state.username.length>0&&this.state.password.length>0;}},{key:\"handleSubmit\",value:function handleSubmit(){var _this2=this;this.setState({loginError:!this.validateForm()});if(this.validateForm()){this.props.setSpinner();this.authModule.login(this.state.username,this.state.password).then(function(){console.log(\"ar\");_this2.props.setSpinner();_this2.props.history.push('/main');}).catch(function(e){//console.log(e)\n_this2.props.setSpinner();});}}},{key:\"handleEnter\",value:function handleEnter(e){var charCode=e.charCode,keyCode=e.keyCode;if(charCode===13||keyCode===13)this.handleSubmit();}},{key:\"render\",value:function render(){var language=this.props.language;if(language!==null){return/*#__PURE__*/React.createElement(Row,{className:\"h-100 justify-content-center align-items-center\"},/*#__PURE__*/React.createElement(Col,{xs:12,sm:8,md:4,className:\"mx-auto\"},/*#__PURE__*/React.createElement(Card,{className:\"login-card\"},/*#__PURE__*/React.createElement(CardBody,{className:\"text-center\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:8}),/*#__PURE__*/React.createElement(Col,{xs:4,className:'text-right'})),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"h3\",null,language.welcomeTo),/*#__PURE__*/React.createElement(\"h1\",{className:'mb-3'},language.appName),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:'username',className:\"form-control form-control-lg\",onChange:this.handleChange.bind(this),onKeyPress:this.handleEnter.bind(this),placeholder:language.usernameInput})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:'password',className:\"form-control form-control-lg\",onChange:this.handleChange.bind(this),onKeyPress:this.handleEnter.bind(this),placeholder:language.passwordInput})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Button,{color:'primary',block:true,size:'lg',onClick:this.handleSubmit.bind(this)},/*#__PURE__*/React.createElement(\"i\",{className:\"icon icon-arrow-right mr-2\"}),language.loginButtonText)),this.state.loginError&&/*#__PURE__*/React.createElement(Alert,{color:'danger'},/*#__PURE__*/React.createElement(\"i\",{className:\"icon icon-triangle-warning mr-2\"}),language.loginError)),/*#__PURE__*/React.createElement(CardFooter,{className:\"text-right\"},/*#__PURE__*/React.createElement(Copyright,null)))),/*#__PURE__*/React.createElement(Spinner,null));}else{return/*#__PURE__*/React.createElement(React.Fragment,null);}}}]);return Login;}(React.Component);function mapStateToProps(state){return{language:state.language};}function mapStateToDispatch(dispatch){return{setUser:function setUser(user){return dispatch(setAuthUser(user));},setToken:function setToken(token){return dispatch(_setToken(token));},setCompany:function(_setCompany){function setCompany(_x){return _setCompany.apply(this,arguments);}setCompany.toString=function(){return _setCompany.toString();};return setCompany;}(function(company){return dispatch(setCompany(company));}),setSpinner:function setSpinner(){return dispatch(spinnerToggle());}};}export default connect(mapStateToProps,mapStateToDispatch)(withRouter(Login));","map":{"version":3,"sources":["C:/Users/ezerdon/Desktop/SSCM/ss/src/src/views/Login.jsx"],"names":["React","connect","withRouter","Row","Col","Card","CardBody","CardFooter","FormGroup","Button","Alert","RestApiModule","CryptoModule","AuthModule","LanguageButton","Copyright","Spinner","setAuthUser","setToken","spinnerToggle","Login","props","state","username","password","loginError","restApi","crypto","authModule","event","setState","target","name","value","length","validateForm","setSpinner","login","then","console","log","history","push","catch","e","charCode","keyCode","handleSubmit","language","welcomeTo","appName","handleChange","bind","handleEnter","usernameInput","passwordInput","loginButtonText","Component","mapStateToProps","mapStateToDispatch","dispatch","setUser","user","token","setCompany","company"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {Row, Col, Card, CardBody, CardFooter, FormGroup, Button, Alert} from 'reactstrap';\r\n\r\n// RestApi Connection\r\nimport RestApiModule from '../RestApiModule';\r\n\r\n//Crypto Module\r\nimport CryptoModule from '../CryptoModule';\r\n\r\n//AuthModule\r\nimport AuthModule from '../AuthModule';\r\n\r\nimport LanguageButton from '../components/LanguageButton';\r\nimport Copyright from \"../components/Copyright\";\r\nimport Spinner from '../components/Spinner';\r\n\r\nimport {setAuthUser, setToken, spinnerToggle} from \"../redux/actions\";\r\n\r\nclass Login extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            loginError: false\r\n        }\r\n\r\n        this.restApi = new RestApiModule();\r\n        this.crypto = new CryptoModule();\r\n        this.authModule = new AuthModule();\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({[event.target.name]: event.target.value});\r\n    }\r\n\r\n    validateForm() {\r\n        return this.state.username.length > 0 && this.state.password.length > 0;\r\n    }\r\n\r\n    handleSubmit() {\r\n        this.setState({loginError: !this.validateForm()})\r\n\r\n        if (this.validateForm()) {\r\n            this.props.setSpinner();\r\n\r\n            this.authModule.login(\r\n                this.state.username,\r\n                this.state.password\r\n            ).then(() => {\r\n                console.log(\"ar\");\r\n                this.props.setSpinner();\r\n                this.props.history.push('/main');\r\n\r\n            }).catch((e) => {\r\n                //console.log(e)\r\n                this.props.setSpinner();\r\n\r\n            })\r\n        }\r\n    }\r\n\r\n    handleEnter(e) {\r\n        const {charCode, keyCode} = e;\r\n\r\n        if (charCode === 13 || keyCode === 13)\r\n            this.handleSubmit();\r\n    }\r\n\r\n    render() {\r\n        const {language} = this.props;\r\n\r\n        if (language !== null) {\r\n            return (\r\n                <Row className=\"h-100 justify-content-center align-items-center\">\r\n                    <Col xs={12} sm={8} md={4} className=\"mx-auto\">\r\n                        <Card className=\"login-card\">\r\n                            <CardBody className=\"text-center\">\r\n                                <Row>\r\n                                    <Col xs={8}>\r\n\r\n                                    </Col>\r\n                                    <Col xs={4} className={'text-right'}>\r\n\r\n                                    </Col>\r\n                                </Row>\r\n                                <hr/>\r\n\r\n                                <h3>{language.welcomeTo}</h3>\r\n                                <h1 className={'mb-3'}>{language.appName}</h1>\r\n\r\n                                <FormGroup>\r\n                                    <input type=\"text\" name={'username'}\r\n                                           className=\"form-control form-control-lg\"\r\n                                           onChange={this.handleChange.bind(this)}\r\n                                           onKeyPress={this.handleEnter.bind(this)}\r\n                                           placeholder={language.usernameInput}/>\r\n                                </FormGroup>\r\n                                <FormGroup>\r\n                                    <input type=\"password\" name={'password'}\r\n                                           className=\"form-control form-control-lg\"\r\n                                           onChange={this.handleChange.bind(this)}\r\n                                           onKeyPress={this.handleEnter.bind(this)}\r\n                                           placeholder={language.passwordInput}/>\r\n                                </FormGroup>\r\n                                <FormGroup>\r\n                                    <Button color={'primary'} block={true} size={'lg'}\r\n                                            onClick={this.handleSubmit.bind(this)}>\r\n                                        <i className=\"icon icon-arrow-right mr-2\"/>\r\n                                        {language.loginButtonText}\r\n                                    </Button>\r\n                                </FormGroup>\r\n\r\n                                {this.state.loginError &&\r\n                                <Alert color={'danger'}>\r\n                                    <i className=\"icon icon-triangle-warning mr-2\"/>\r\n                                    {language.loginError}\r\n                                </Alert>\r\n                                }\r\n                            </CardBody>\r\n                            <CardFooter className=\"text-right\">\r\n                                <Copyright/>\r\n                            </CardFooter>\r\n                        </Card>\r\n                    </Col>\r\n                    <Spinner/>\r\n                </Row>\r\n            )\r\n        } else {\r\n            return <></>;\r\n        }\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        language: state.language,\r\n    }\r\n}\r\n\r\nfunction mapStateToDispatch(dispatch) {\r\n    return {\r\n        setUser: (user) => dispatch(setAuthUser(user)),\r\n        setToken: (token) => dispatch(setToken(token)),\r\n        setCompany: (company) => dispatch(setCompany(company)),\r\n        setSpinner: () => dispatch(spinnerToggle()),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapStateToDispatch)(withRouter(Login));"]},"metadata":{},"sourceType":"module"}