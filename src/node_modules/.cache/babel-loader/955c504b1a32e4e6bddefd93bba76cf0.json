{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import{connect}from\"react-redux\";import{withRouter}from'react-router-dom';import{Row,Col,Card,CardBody,CardFooter,FormGroup,Input,Button,Alert}from'reactstrap';// RestApi Connection\nimport RestApiModule from'../RestApiModule';//Crypto Module\nimport CryptoModule from'../CryptoModule';//AuthModule\nimport AuthModule from'../AuthModule';import LanguageButton from'../components/LanguageButton';import Copyright from\"../components/Copyright\";import Spinner from'../components/Spinner';import{setAuthUser,setToken as _setToken,spinnerToggle}from\"../redux/actions\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);function Login(props){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));_this.state={username:\"\",password:\"\",loginError:false};_this.restApi=new RestApiModule();_this.crypto=new CryptoModule();_this.authModule=new AuthModule();return _this;}_createClass(Login,[{key:\"handleChange\",value:function handleChange(event){this.setState(_defineProperty({},event.target.name,event.target.value));}},{key:\"validateForm\",value:function validateForm(){return this.state.username.length>0&&this.state.password.length>0;}},{key:\"handleSubmit\",value:function handleSubmit(){var _this2=this;this.setState({loginError:!this.validateForm()});if(this.validateForm()){this.props.setSpinner();this.authModule.login(this.state.username,this.state.password).then(function(){//console.log(r);\n_this2.props.setSpinner();_this2.props.history.push('/matrix');}).catch(function(e){//console.log(e)\n_this2.props.setSpinner();});}}},{key:\"render\",value:function render(){var language=this.props.language;if(language!==null){return React.createElement(Row,{className:\"h-100 justify-content-center align-items-center\"},React.createElement(Col,{xs:12,sm:8,md:4,className:\"mx-auto\"},React.createElement(Card,{className:\"login-card\"},React.createElement(CardBody,{className:\"text-center\"},React.createElement(Row,null,React.createElement(Col,{xs:8},React.createElement(\"div\",{className:\"logo\"})),React.createElement(Col,{xs:4,className:'text-right'},React.createElement(LanguageButton,{buttonClass:'btn btn-sm btn-outline-dark'}))),React.createElement(\"hr\",null),React.createElement(\"h3\",null,language.welcomeTo),React.createElement(\"h1\",{className:'mb-3'},language.appName),React.createElement(FormGroup,null,React.createElement(\"input\",{type:\"text\",name:'username',className:\"form-control form-control-lg\",onChange:this.handleChange.bind(this),placeholder:language.usernameInput})),React.createElement(FormGroup,null,React.createElement(\"input\",{type:\"password\",name:'password',className:\"form-control form-control-lg\",onChange:this.handleChange.bind(this),placeholder:language.passwordInput})),React.createElement(FormGroup,null,React.createElement(Button,{color:'primary',block:true,size:'lg',onClick:this.handleSubmit.bind(this)},React.createElement(\"i\",{className:\"icon icon-arrow-right mr-2\"}),language.loginButtonText)),this.state.loginError&&React.createElement(Alert,{color:'danger'},React.createElement(\"i\",{className:\"icon icon-triangle-warning mr-2\"}),language.loginError)),React.createElement(CardFooter,{className:\"text-right\"},React.createElement(Copyright,null)))),React.createElement(Spinner,null));}else{return React.createElement(React.Fragment,null);}}}]);return Login;}(React.Component);function mapStateToProps(state){return{language:state.language};}function mapStateToDispatch(dispatch){return{setUser:function setUser(user){return dispatch(setAuthUser(user));},setToken:function setToken(token){return dispatch(_setToken(token));},setSpinner:function setSpinner(){return dispatch(spinnerToggle());}};}export default connect(mapStateToProps,mapStateToDispatch)(withRouter(Login));","map":{"version":3,"sources":["C:/Users/ezerdon/Desktop/INWI/svn reps/E2E_Topology/E2ETopologyFrontend/src/src/views/Login.jsx"],"names":["React","connect","withRouter","Row","Col","Card","CardBody","CardFooter","FormGroup","Input","Button","Alert","RestApiModule","CryptoModule","AuthModule","LanguageButton","Copyright","Spinner","setAuthUser","setToken","spinnerToggle","Login","props","state","username","password","loginError","restApi","crypto","authModule","event","setState","target","name","value","length","validateForm","setSpinner","login","then","history","push","catch","e","language","welcomeTo","appName","handleChange","bind","usernameInput","passwordInput","handleSubmit","loginButtonText","Component","mapStateToProps","mapStateToDispatch","dispatch","setUser","user","token"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {Row, Col, Card, CardBody, CardFooter, FormGroup, Input, Button, Alert} from 'reactstrap';\r\n\r\n// RestApi Connection\r\nimport RestApiModule from '../RestApiModule';\r\n\r\n//Crypto Module\r\nimport CryptoModule from '../CryptoModule';\r\n\r\n//AuthModule\r\nimport AuthModule from '../AuthModule';\r\n\r\nimport LanguageButton from '../components/LanguageButton';\r\nimport Copyright from \"../components/Copyright\";\r\nimport Spinner from '../components/Spinner';\r\n\r\nimport {setAuthUser, setToken, spinnerToggle} from \"../redux/actions\";\r\n\r\nclass Login extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            loginError: false\r\n        }\r\n\r\n        this.restApi = new RestApiModule();\r\n        this.crypto = new CryptoModule();\r\n        this.authModule = new AuthModule();\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({[event.target.name]: event.target.value});\r\n    }\r\n\r\n    validateForm() {\r\n        return this.state.username.length > 0 && this.state.password.length > 0;\r\n    }\r\n\r\n    handleSubmit() {\r\n        this.setState({loginError: !this.validateForm()})\r\n\r\n        if (this.validateForm()) {\r\n            this.props.setSpinner();\r\n\r\n            this.authModule.login(\r\n                this.state.username,\r\n                this.state.password\r\n            ).then(() => {\r\n                //console.log(r);\r\n                this.props.setSpinner();\r\n                this.props.history.push('/matrix');\r\n\r\n            }).catch((e) => {\r\n                //console.log(e)\r\n                this.props.setSpinner();\r\n\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {language} = this.props;\r\n\r\n        if (language !== null) {\r\n            return (\r\n                <Row className=\"h-100 justify-content-center align-items-center\">\r\n                    <Col xs={12} sm={8} md={4} className=\"mx-auto\">\r\n                        <Card className=\"login-card\">\r\n                            <CardBody className=\"text-center\">\r\n                                <Row>\r\n                                    <Col xs={8}>\r\n                                        <div className='logo'/>\r\n                                    </Col>\r\n                                    <Col xs={4} className={'text-right'}>\r\n                                        <LanguageButton buttonClass={'btn btn-sm btn-outline-dark'}/>\r\n                                    </Col>\r\n                                </Row>\r\n                                <hr/>\r\n\r\n                                <h3>{language.welcomeTo}</h3>\r\n                                <h1 className={'mb-3'}>{language.appName}</h1>\r\n\r\n                                <FormGroup>\r\n                                    <input type=\"text\" name={'username'}\r\n                                           className=\"form-control form-control-lg\"\r\n                                           onChange={this.handleChange.bind(this)}\r\n                                           placeholder={language.usernameInput}/>\r\n                                </FormGroup>\r\n                                <FormGroup>\r\n                                    <input type=\"password\" name={'password'}\r\n                                           className=\"form-control form-control-lg\"\r\n                                           onChange={this.handleChange.bind(this)}\r\n                                           placeholder={language.passwordInput}/>\r\n                                </FormGroup>\r\n                                <FormGroup>\r\n                                    <Button color={'primary'} block={true} size={'lg'}\r\n                                            onClick={this.handleSubmit.bind(this)}>\r\n                                        <i className=\"icon icon-arrow-right mr-2\"/>\r\n                                        {language.loginButtonText}\r\n                                    </Button>\r\n                                </FormGroup>\r\n\r\n                                {this.state.loginError &&\r\n                                <Alert color={'danger'}>\r\n                                    <i className=\"icon icon-triangle-warning mr-2\"/>\r\n                                    {language.loginError}\r\n                                </Alert>\r\n                                }\r\n                            </CardBody>\r\n                            <CardFooter className=\"text-right\">\r\n                                <Copyright/>\r\n                            </CardFooter>\r\n                        </Card>\r\n                    </Col>\r\n                    <Spinner/>\r\n                </Row>\r\n            )\r\n        } else {\r\n            return <></>;\r\n        }\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        language: state.language,\r\n    }\r\n}\r\n\r\nfunction mapStateToDispatch(dispatch) {\r\n    return {\r\n        setUser: (user) => dispatch(setAuthUser(user)),\r\n        setToken: (token) => dispatch(setToken(token)),\r\n        setSpinner: () => dispatch(spinnerToggle()),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapStateToDispatch)(withRouter(Login));"]},"metadata":{},"sourceType":"module"}