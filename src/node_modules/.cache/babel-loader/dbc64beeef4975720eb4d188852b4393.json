{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\src\\\\components\\\\LogoutButton.jsx\";\nimport React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { setAuthUser, setToken } from \"../redux/actions\";\nimport { Button } from 'reactstrap'; // RestApi Connection\n\nimport RestApiModule from '../RestApiModule';\n\nclass LogoutButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.restApi = new RestApiModule();\n  }\n\n  handleLogout() {\n    this.restApi.callApi('logout', {\n      token: this.props.token\n    }).then(r => {\n      this.props.setUser();\n      this.props.setToken();\n      this.props.history.push('/login');\n    });\n  }\n\n  render() {\n    const _this$props = this.props,\n          language = _this$props.language,\n          editOn = _this$props.editOn;\n\n    if (language) {\n      return React.createElement(Button, {\n        color: 'danger',\n        disabled: editOn,\n        \"data-place\": 'bottom',\n        \"data-tip\": language.logoutButtonText,\n        onClick: this.handleLogout.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"icon icon-cross\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }));\n    } else {\n      return React.createElement(React.Fragment, null);\n    }\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    token: state.token,\n    language: state.language,\n    editOn: state.editOn\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    setUser: () => dispatch(setAuthUser(null)),\n    setToken: () => dispatch(setToken(null))\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(LogoutButton));","map":{"version":3,"sources":["C:/Users/ezerdon/Desktop/INWI/svn reps/E2E_Topology/E2ETopologyFrontend/src/src/components/LogoutButton.jsx"],"names":["React","withRouter","connect","setAuthUser","setToken","Button","RestApiModule","LogoutButton","Component","constructor","props","restApi","handleLogout","callApi","token","then","r","setUser","history","push","render","language","editOn","logoutButtonText","bind","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,WAAR,EAAqBC,QAArB,QAAoC,kBAApC;AACA,SAAQC,MAAR,QAAqB,YAArB,C,CAEA;;AACA,OAAOC,aAAP,MAA0B,kBAA1B;;AAEA,MAAMC,YAAN,SAA2BP,KAAK,CAACQ,SAAjC,CAA2C;AAEvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,OAAL,GAAe,IAAIL,aAAJ,EAAf;AACH;;AAEDM,EAAAA,YAAY,GAAG;AAEX,SAAKD,OAAL,CAAaE,OAAb,CAAqB,QAArB,EAA+B;AAC3BC,MAAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWI;AADS,KAA/B,EAEGC,IAFH,CAESC,CAAD,IAAO;AAEX,WAAKN,KAAL,CAAWO,OAAX;AACA,WAAKP,KAAL,CAAWN,QAAX;AACA,WAAKM,KAAL,CAAWQ,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACH,KAPD;AAQH;;AAEDC,EAAAA,MAAM,GAAG;AAAA,wBACsB,KAAKV,KAD3B;AAAA,UACEW,QADF,eACEA,QADF;AAAA,UACYC,MADZ,eACYA,MADZ;;AAGL,QAAID,QAAJ,EAAc;AACV,aACI,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAE,QAAf;AACQ,QAAA,QAAQ,EAAEC,MADlB;AAEQ,sBAAY,QAFpB;AAGQ,oBAAUD,QAAQ,CAACE,gBAH3B;AAIQ,QAAA,OAAO,EAAE,KAAKX,YAAL,CAAkBY,IAAlB,CAAuB,IAAvB,CAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKI;AAAG,QAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,CADJ;AASH,KAVD,MAUO;AACH,aACI,yCADJ;AAGH;AAEJ;;AAvCsC;;AA0C3C,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;AAC5B,SAAO;AACHZ,IAAAA,KAAK,EAAEY,KAAK,CAACZ,KADV;AAEHO,IAAAA,QAAQ,EAAEK,KAAK,CAACL,QAFb;AAGHC,IAAAA,MAAM,EAAEI,KAAK,CAACJ;AAHX,GAAP;AAKH;;AAED,SAASK,kBAAT,CAA4BC,QAA5B,EAAsC;AAClC,SAAO;AACHX,IAAAA,OAAO,EAAE,MAAMW,QAAQ,CAACzB,WAAW,CAAC,IAAD,CAAZ,CADpB;AAEHC,IAAAA,QAAQ,EAAE,MAAMwB,QAAQ,CAACxB,QAAQ,CAAC,IAAD,CAAT;AAFrB,GAAP;AAIH;;AAED,eAAeF,OAAO,CAACuB,eAAD,EAAkBE,kBAAlB,CAAP,CAA6C1B,UAAU,CAACM,YAAD,CAAvD,CAAf","sourcesContent":["import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {setAuthUser, setToken} from \"../redux/actions\";\r\nimport {Button} from 'reactstrap';\r\n\r\n// RestApi Connection\r\nimport RestApiModule from '../RestApiModule';\r\n\r\nclass LogoutButton extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.restApi = new RestApiModule();\r\n    }\r\n\r\n    handleLogout() {\r\n\r\n        this.restApi.callApi('logout', {\r\n            token: this.props.token\r\n        }).then((r) => {\r\n\r\n            this.props.setUser();\r\n            this.props.setToken();\r\n            this.props.history.push('/login')\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {language, editOn} = this.props;\r\n\r\n        if (language) {\r\n            return (\r\n                <Button color={'danger'}\r\n                        disabled={editOn}\r\n                        data-place={'bottom'}\r\n                        data-tip={language.logoutButtonText}\r\n                        onClick={this.handleLogout.bind(this)}>\r\n                    <i className=\"icon icon-cross\"/>\r\n                </Button>\r\n            )\r\n        } else {\r\n            return (\r\n                <></>\r\n            )\r\n        }\r\n\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        token: state.token,\r\n        language: state.language,\r\n        editOn: state.editOn\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        setUser: () => dispatch(setAuthUser(null)),\r\n        setToken: () => dispatch(setToken(null))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(LogoutButton));"]},"metadata":{},"sourceType":"module"}