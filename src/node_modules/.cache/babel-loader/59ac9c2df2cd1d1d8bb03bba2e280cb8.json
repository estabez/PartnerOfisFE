{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\src\\\\views\\\\Login.jsx\";\nimport React from 'react';\nimport { connect } from \"react-redux\";\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom'; // User Privileges for accessible pages\n\nimport RoleModule from '../RoleModule';\nimport LanguageButton from '../components/LanguageButton';\nimport { setAuthUser, setToken } from \"../redux/actions\";\nimport Copyright from \"../components/Copyright\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      loginError: false\n    };\n    this.roleModule = new RoleModule();\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  validateForm() {\n    return this.state.username.length > 0 && this.state.password.length > 0;\n  }\n\n  handleSubmit() {\n    this.setState({\n      loginError: !this.validateForm()\n    }); //if (!this.state.loginError) {\n\n    if (this.validateForm()) {\n      const role = this.roleModule.getRole(\"Admin\");\n      const user = {\n        name: \"Demo User\",\n        role\n      };\n      this.props.setUser(user);\n      this.props.setToken('RrhzQx5fyZq0JzuDViRaXU1Eb8mpSoj9');\n      this.props.history.push(role.mainPage);\n      /*axios({\r\n          method: \"POST\",\r\n          url: `${this.props.serverPath}/AuthenticationService/Login/${this.state.username}`,\r\n          data: {\r\n              username: this.state.username,\r\n              password: this.state.password\r\n          }\r\n      }).then((response) => {\r\n            console.log(response.data);\r\n          this.props.setAuthUser(response.data, true);\r\n          localStorage.setItem('e2eToken', \"true\");\r\n            if (history) history.push(\"/matrix\");\r\n        }).catch((err) => {\r\n          console.log(err);\r\n            this.props.setAuthUser({}, false);\r\n          this.setState({loginError: true});\r\n      })*/\n    }\n  }\n\n  render() {\n    const language = this.props.language;\n\n    if (language !== null) {\n      return React.createElement(\"div\", {\n        className: \"row h-100 justify-content-center align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-10 col-md-4 mx-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card login-card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-body text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-4 text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(LanguageButton, {\n        buttonClass: 'btn btn-sm btn-outline-dark',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, language.welcomeTo), React.createElement(\"h1\", {\n        className: 'mb-3',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, language.appName), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: 'username',\n        className: \"form-control form-control-lg\",\n        onChange: this.handleChange.bind(this),\n        placeholder: language.usernameInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"password\",\n        name: 'password',\n        className: \"form-control form-control-lg\",\n        onChange: this.handleChange.bind(this),\n        placeholder: language.passwordInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-lg btn-primary btn-block\",\n        onClick: this.handleSubmit.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"icon icon-arrow-right mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), language.loginButtonText)), this.state.loginError && React.createElement(\"div\", {\n        className: \"alert alert-danger text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"icon icon-triangle-warning mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), language.loginError)), React.createElement(\"div\", {\n        className: \"card-footer text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Copyright, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      })))));\n    } else {\n      return React.createElement(React.Fragment, null);\n    }\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    language: state.language,\n    lang: state.lang,\n    serverPath: state.serverPath\n  };\n}\n\nfunction mapStateToDispatch(dispatch) {\n  return {\n    setUser: user => dispatch(setAuthUser(user)),\n    setToken: token => dispatch(setToken(token))\n  };\n}\n\nexport default connect(mapStateToProps, mapStateToDispatch)(withRouter(Login));","map":{"version":3,"sources":["C:/Users/ezerdon/Desktop/INWI/svn reps/E2E_Topology/E2ETopologyFrontend/src/src/views/Login.jsx"],"names":["React","connect","axios","withRouter","RoleModule","LanguageButton","setAuthUser","setToken","Copyright","Login","Component","constructor","props","state","username","password","loginError","roleModule","handleChange","event","setState","target","name","value","validateForm","length","handleSubmit","role","getRole","user","setUser","history","push","mainPage","render","language","welcomeTo","appName","bind","usernameInput","passwordInput","loginButtonText","mapStateToProps","lang","serverPath","mapStateToDispatch","dispatch","token"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport axios from 'axios';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\n// User Privileges for accessible pages\r\nimport RoleModule from '../RoleModule';\r\n\r\nimport LanguageButton from '../components/LanguageButton';\r\nimport {setAuthUser, setToken} from \"../redux/actions\";\r\nimport Copyright from \"../components/Copyright\";\r\n\r\nclass Login extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            loginError: false\r\n        }\r\n\r\n        this.roleModule = new RoleModule();\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({[event.target.name]: event.target.value});\r\n    }\r\n\r\n    validateForm() {\r\n        return this.state.username.length > 0 && this.state.password.length > 0;\r\n    }\r\n\r\n    handleSubmit() {\r\n        this.setState({loginError: !this.validateForm()})\r\n        //if (!this.state.loginError) {\r\n        if (this.validateForm()) {\r\n\r\n            const role = this.roleModule.getRole(\"Admin\");\r\n\r\n            const user = {\r\n                name: \"Demo User\",\r\n                role\r\n            };\r\n\r\n            this.props.setUser(user);\r\n            this.props.setToken('RrhzQx5fyZq0JzuDViRaXU1Eb8mpSoj9');\r\n\r\n            this.props.history.push(role.mainPage);\r\n\r\n            /*axios({\r\n                method: \"POST\",\r\n                url: `${this.props.serverPath}/AuthenticationService/Login/${this.state.username}`,\r\n                data: {\r\n                    username: this.state.username,\r\n                    password: this.state.password\r\n                }\r\n            }).then((response) => {\r\n\r\n                console.log(response.data);\r\n                this.props.setAuthUser(response.data, true);\r\n                localStorage.setItem('e2eToken', \"true\");\r\n\r\n                if (history) history.push(\"/matrix\");\r\n\r\n            }).catch((err) => {\r\n                console.log(err);\r\n\r\n                this.props.setAuthUser({}, false);\r\n                this.setState({loginError: true});\r\n            })*/\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {language} = this.props;\r\n\r\n        if (language !== null) {\r\n            return (\r\n                <div className=\"row h-100 justify-content-center align-items-center\">\r\n                    <div className=\"col-10 col-md-4 mx-auto\">\r\n                        <div className=\"card login-card\">\r\n                            <div className=\"card-body text-center\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-8\">\r\n                                        <div className='logo'/>\r\n                                    </div>\r\n                                    <div className=\"col-4 text-right\">\r\n                                        <LanguageButton buttonClass={'btn btn-sm btn-outline-dark'}/>\r\n                                    </div>\r\n                                </div>\r\n                                <hr/>\r\n\r\n                                <h3>{language.welcomeTo}</h3>\r\n                                <h1 className={'mb-3'}>{language.appName}</h1>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"text\" name={'username'}\r\n                                           className=\"form-control form-control-lg\"\r\n                                           onChange={this.handleChange.bind(this)}\r\n                                           placeholder={language.usernameInput}/>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"password\" name={'password'}\r\n                                           className=\"form-control form-control-lg\"\r\n                                           onChange={this.handleChange.bind(this)}\r\n                                           placeholder={language.passwordInput}/>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <button className=\"btn btn-lg btn-primary btn-block\"\r\n                                            onClick={this.handleSubmit.bind(this)}>\r\n                                        <i className=\"icon icon-arrow-right mr-2\"/>\r\n                                        {language.loginButtonText}\r\n                                    </button>\r\n                                    {/*<LoginButton></LoginButton>*/}\r\n                                </div>\r\n\r\n                                {this.state.loginError &&\r\n                                <div className=\"alert alert-danger text-left\">\r\n                                    <i className=\"icon icon-triangle-warning mr-2\"/>\r\n                                    {language.loginError}\r\n                                </div>\r\n                                }\r\n                            </div>\r\n                            <div className=\"card-footer text-right\">\r\n                                <Copyright/>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        } else {\r\n            return <></>;\r\n        }\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        language: state.language,\r\n        lang: state.lang,\r\n        serverPath: state.serverPath,\r\n    }\r\n}\r\n\r\nfunction mapStateToDispatch(dispatch) {\r\n    return {\r\n        setUser: (user) => dispatch(setAuthUser(user)),\r\n        setToken: (token) => dispatch(setToken(token))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapStateToDispatch)(withRouter(Login));"]},"metadata":{},"sourceType":"module"}