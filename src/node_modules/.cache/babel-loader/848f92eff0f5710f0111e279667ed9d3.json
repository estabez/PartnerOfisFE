{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import{withRouter}from'react-router';import{BrowserRouter,Route,Switch,HashRouter}from\"react-router-dom\";import'bootstrap/dist/js/bootstrap.bundle.min';import'bootstrap/dist/css/bootstrap.css';import'./css/App.scss';import'handsontable/dist/handsontable.full.css';import{connect}from'react-redux';import{setLang as _setLang,setAuthUser as _setAuthUser,setToken as _setToken}from\"./redux/actions\";//Private Routing\nimport{PrivateRoute}from\"./components/PrivateRoute\";// User Privileges for accessible pages\nimport RoleModule from'./RoleModule';// Language file\nimport en from'./languages/en';// Views\nimport Login from'./views/Login';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.roleModule=new RoleModule();return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){// default lang\nthis.props.setLang(en,'en');var token=localStorage.getItem('e2eToken');if(token!==null){var role=this.roleModule.getRole(\"Admin\");var user={name:localStorage.getItem('user'),role:role};this.props.setAuthUser(user);this.props.setToken(token);}else{this.props.setAuthUser(null);this.props.setToken(null);}}},{key:\"render\",value:function render(){var _this$props=this.props,authUser=_this$props.authUser,location=_this$props.location;var requestedPath=location.pathname;if(authUser!==undefined){return React.createElement(\"div\",{className:'container-fluid'},React.createElement(HashRouter,{basename:process.env.PUBLIC_URL},React.createElement(Switch,null,React.createElement(Route,{path:\"/\",exact:true,component:Login}),React.createElement(Route,{path:\"/login\",exact:true,component:Login}),React.createElement(PrivateRoute,{key:requestedPath,authUser:authUser}))));}else{return React.createElement(React.Fragment,null);}}}]);return App;}(React.Component);function mapStateToProps(state){return{lang:state.lang,language:state.language,maximize:state.maximize,authUser:state.user};}function mapDispatchToProps(dispatch){return{setLang:function setLang(langFile,lang){return dispatch(_setLang(langFile,lang));},setAuthUser:function setAuthUser(user){return dispatch(_setAuthUser(user));},setToken:function setToken(token){return dispatch(_setToken(token));}};}export default connect(mapStateToProps,mapDispatchToProps)(withRouter(App));","map":{"version":3,"sources":["C:/Users/ezerdon/Desktop/INWI/svn reps/E2E_Topology/E2ETopologyFrontend/src/src/App.js"],"names":["React","withRouter","BrowserRouter","Route","Switch","HashRouter","connect","setLang","setAuthUser","setToken","PrivateRoute","RoleModule","en","Login","App","props","roleModule","token","localStorage","getItem","role","getRole","user","name","authUser","location","requestedPath","pathname","undefined","process","env","PUBLIC_URL","Component","mapStateToProps","state","lang","language","maximize","mapDispatchToProps","dispatch","langFile"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {withRouter} from 'react-router';\nimport {BrowserRouter, Route, Switch, HashRouter} from \"react-router-dom\";\n\nimport 'bootstrap/dist/js/bootstrap.bundle.min'\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './css/App.scss';\nimport 'handsontable/dist/handsontable.full.css';\n\nimport {connect} from 'react-redux';\nimport {setLang, setAuthUser, setToken} from \"./redux/actions\";\n\n\n//Private Routing\nimport {PrivateRoute} from \"./components/PrivateRoute\";\n\n// User Privileges for accessible pages\nimport RoleModule from './RoleModule';\n\n// Language file\nimport en from './languages/en';\n\n// Views\nimport Login from './views/Login';\n\nclass App extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.roleModule = new RoleModule();\n    }\n\n    componentDidMount() {\n        // default lang\n        this.props.setLang(en, 'en');\n\n        const token = localStorage.getItem('e2eToken');\n\n        if (token !== null) {\n\n            const role = this.roleModule.getRole(\"Admin\");\n\n            const user = {\n                name: localStorage.getItem('user'),\n                role\n            };\n\n            this.props.setAuthUser(user)\n            this.props.setToken(token)\n        } else {\n            this.props.setAuthUser(null)\n            this.props.setToken(null)\n        }\n    }\n\n    render() {\n\n        const {authUser, location} = this.props;\n        const requestedPath = location.pathname;\n\n        if (authUser !== undefined) {\n            return (\n                <div className={'container-fluid'}>\n                    <HashRouter basename={process.env.PUBLIC_URL}>\n                        <Switch>\n                            <Route path=\"/\" exact component={Login}/>\n                            <Route path=\"/login\" exact component={Login}/>\n\n                            <PrivateRoute key={requestedPath} authUser={authUser} />\n                        </Switch>\n                    </HashRouter>\n                </div>\n            )\n        } else {\n            return <></>;\n        }\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        lang: state.lang,\n        language: state.language,\n        maximize: state.maximize,\n        authUser: state.user\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        setLang: (langFile, lang) => dispatch(setLang(langFile, lang)),\n        setAuthUser: (user) => dispatch(setAuthUser(user)),\n        setToken: (token) => dispatch(setToken(token))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(App));\n"]},"metadata":{},"sourceType":"module"}