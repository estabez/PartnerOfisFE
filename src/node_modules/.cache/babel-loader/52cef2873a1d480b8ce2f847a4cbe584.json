{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{withRouter}from'react-router';import{Route,Switch,HashRouter}from\"react-router-dom\";import ReactTooltip from'react-tooltip';import'bootstrap/dist/js/bootstrap.bundle.min';import'bootstrap/scss/bootstrap.scss';import'./css/App.scss';import'handsontable/dist/handsontable.full.css';import{connect}from'react-redux';import{setLang as _setLang,setAuthUser as _setAuthUser,setToken as _setToken}from\"./redux/actions\";//Private Routing\nimport{PrivateRoute}from\"./components/PrivateRoute\";//AuthModule\nimport AuthModule from'./AuthModule';// Language file\nimport en from'./languages/en';// Views\nimport Login from'./views/Login';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.authModule=new AuthModule();return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){// default lang\nthis.props.setLang(en,'en');var token=localStorage.getItem('e2eToken');var u=localStorage.getItem('user');if(token!==null){this.authModule.registerUser(token,u);}else{this.props.setAuthUser(null);this.props.setToken(null);}}},{key:\"render\",value:function render(){var _this$props=this.props,authUser=_this$props.authUser,location=_this$props.location;var requestedPath=location.pathname;if(authUser!==undefined){return/*#__PURE__*/React.createElement(\"div\",{className:'container-fluid'},/*#__PURE__*/React.createElement(ReactTooltip,{effect:'solid'}),/*#__PURE__*/React.createElement(HashRouter,{basename:process.env.PUBLIC_URL},/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/\",exact:true,component:Login}),/*#__PURE__*/React.createElement(Route,{path:\"/login\",exact:true,component:Login}),/*#__PURE__*/React.createElement(PrivateRoute,{key:requestedPath,authUser:authUser}))));}else{return/*#__PURE__*/React.createElement(React.Fragment,null);}}}]);return App;}(React.Component);function mapStateToProps(state){return{lang:state.lang,language:state.language,maximize:state.maximize,authUser:state.user};}function mapDispatchToProps(dispatch){return{setLang:function setLang(langFile,lang){return dispatch(_setLang(langFile,lang));},setAuthUser:function setAuthUser(user){return dispatch(_setAuthUser(user));},setToken:function setToken(token){return dispatch(_setToken(token));}};}export default connect(mapStateToProps,mapDispatchToProps)(withRouter(App));","map":{"version":3,"sources":["C:/Users/ezerdon/Desktop/INWI/svn reps/E2E_Topology/E2ETopologyFrontend/src/src/App.js"],"names":["React","withRouter","Route","Switch","HashRouter","ReactTooltip","connect","setLang","setAuthUser","setToken","PrivateRoute","AuthModule","en","Login","App","props","authModule","token","localStorage","getItem","u","registerUser","authUser","location","requestedPath","pathname","undefined","process","env","PUBLIC_URL","Component","mapStateToProps","state","lang","language","maximize","user","mapDispatchToProps","dispatch","langFile"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {withRouter} from 'react-router';\nimport {Route, Switch, HashRouter} from \"react-router-dom\";\nimport ReactTooltip from 'react-tooltip'\n\n\nimport 'bootstrap/dist/js/bootstrap.bundle.min'\nimport 'bootstrap/scss/bootstrap.scss';\nimport './css/App.scss';\nimport 'handsontable/dist/handsontable.full.css';\n\nimport {connect} from 'react-redux';\nimport {setLang, setAuthUser, setToken} from \"./redux/actions\";\n\n\n//Private Routing\nimport {PrivateRoute} from \"./components/PrivateRoute\";\n\n//AuthModule\nimport AuthModule from './AuthModule';\n\n// Language file\nimport en from './languages/en';\n\n// Views\nimport Login from './views/Login';\n\nclass App extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.authModule = new AuthModule();\n    }\n\n    componentDidMount() {\n        // default lang\n        this.props.setLang(en, 'en');\n\n        const token = localStorage.getItem('e2eToken');\n        const u = localStorage.getItem('user');\n\n        if (token !== null) {\n            this.authModule.registerUser(token, u);\n        } else {\n            this.props.setAuthUser(null)\n            this.props.setToken(null)\n        }\n    }\n\n    render() {\n\n        const {authUser, location} = this.props;\n        const requestedPath = location.pathname;\n\n        if (authUser !== undefined) {\n            return (\n                <div className={'container-fluid'}>\n                    <ReactTooltip effect={'solid'}/>\n                    <HashRouter basename={process.env.PUBLIC_URL}>\n                        <Switch>\n                            <Route path=\"/\" exact component={Login}/>\n                            <Route path=\"/login\" exact component={Login}/>\n\n                            <PrivateRoute key={requestedPath} authUser={authUser} />\n                        </Switch>\n                    </HashRouter>\n                </div>\n            )\n        } else {\n            return <></>;\n        }\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        lang: state.lang,\n        language: state.language,\n        maximize: state.maximize,\n        authUser: state.user\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        setLang: (langFile, lang) => dispatch(setLang(langFile, lang)),\n        setAuthUser: (user) => dispatch(setAuthUser(user)),\n        setToken: (token) => dispatch(setToken(token))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(App));\n"]},"metadata":{},"sourceType":"module"}