{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ezerdon\\\\Desktop\\\\INWI\\\\svn reps\\\\E2E_Topology\\\\E2ETopologyFrontend\\\\src\\\\src\\\\views\\\\Login.jsx\";\nimport React from 'react';\nimport { connect } from \"react-redux\";\nimport { withRouter } from 'react-router-dom';\nimport { Row, Col, Card, CardBody, CardFooter, FormGroup, Input, Button, Alert } from 'reactstrap'; // User Privileges for accessible pages\n\nimport RoleModule from '../RoleModule'; // RestApi Connection\n\nimport RestApiModule from '../RestApiModule'; //Crypto Module\n\nimport CryptoModule from '../CryptoModule'; //AuthModule\n\nimport AuthModule from '../AuthModule';\nimport LanguageButton from '../components/LanguageButton';\nimport Copyright from \"../components/Copyright\";\nimport Spinner from '../components/Spinner';\nimport { setAuthUser, setToken, spinnerToggle } from \"../redux/actions\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      loginError: false\n    };\n    this.roleModule = new RoleModule();\n    this.restApi = new RestApiModule();\n    this.crypto = new CryptoModule();\n    this.authModule = new AuthModule();\n  } //sysadm\n  //sysadm4inwi\n\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  validateForm() {\n    return this.state.username.length > 0 && this.state.password.length > 0;\n  }\n\n  handleSubmit() {\n    this.setState({\n      loginError: !this.validateForm()\n    });\n\n    if (this.validateForm()) {\n      this.props.setSpinner();\n      /*const u = this.crypto.encrypt(this.state.username);\r\n      const p = this.crypto.encrypt(this.state.password);\r\n      console.log(u);*/\n\n      this.authModule.login(this.state.username, this.state.password).then(r => {\n        console.log(r);\n        this.props.setSpinner();\n        this.props.history.push('/matrix');\n      }).catch(e => {\n        console.log(e);\n        this.props.setSpinner();\n      });\n    }\n  }\n\n  render() {\n    const language = this.props.language;\n\n    if (language !== null) {\n      return React.createElement(Row, {\n        className: \"h-100 justify-content-center align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 12,\n        sm: 8,\n        md: 4,\n        className: \"mx-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: \"login-card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(CardBody, {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })), React.createElement(Col, {\n        xs: 4,\n        className: 'text-right',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(LanguageButton, {\n        buttonClass: 'btn btn-sm btn-outline-dark',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, language.welcomeTo), React.createElement(\"h1\", {\n        className: 'mb-3',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, language.appName), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: 'username',\n        className: \"form-control form-control-lg\",\n        onChange: this.handleChange.bind(this),\n        placeholder: language.usernameInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"password\",\n        name: 'password',\n        className: \"form-control form-control-lg\",\n        onChange: this.handleChange.bind(this),\n        placeholder: language.passwordInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: 'primary',\n        block: true,\n        size: 'lg',\n        onClick: this.handleSubmit.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"icon icon-arrow-right mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), language.loginButtonText)), this.state.loginError && React.createElement(Alert, {\n        color: 'danger',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"icon icon-triangle-warning mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), language.loginError)), React.createElement(CardFooter, {\n        className: \"text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(Copyright, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      })))), React.createElement(Spinner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }));\n    } else {\n      return React.createElement(React.Fragment, null);\n    }\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    language: state.language,\n    lang: state.lang,\n    serverPath: state.serverPath\n  };\n}\n\nfunction mapStateToDispatch(dispatch) {\n  return {\n    setUser: user => dispatch(setAuthUser(user)),\n    setToken: token => dispatch(setToken(token)),\n    setSpinner: () => dispatch(spinnerToggle())\n  };\n}\n\nexport default connect(mapStateToProps, mapStateToDispatch)(withRouter(Login));","map":{"version":3,"sources":["C:/Users/ezerdon/Desktop/INWI/svn reps/E2E_Topology/E2ETopologyFrontend/src/src/views/Login.jsx"],"names":["React","connect","withRouter","Row","Col","Card","CardBody","CardFooter","FormGroup","Input","Button","Alert","RoleModule","RestApiModule","CryptoModule","AuthModule","LanguageButton","Copyright","Spinner","setAuthUser","setToken","spinnerToggle","Login","Component","constructor","props","state","username","password","loginError","roleModule","restApi","crypto","authModule","handleChange","event","setState","target","name","value","validateForm","length","handleSubmit","setSpinner","login","then","r","console","log","history","push","catch","e","render","language","welcomeTo","appName","bind","usernameInput","passwordInput","loginButtonText","mapStateToProps","lang","serverPath","mapStateToDispatch","dispatch","setUser","user","token"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {Row, Col, Card, CardBody, CardFooter, FormGroup, Input, Button, Alert} from 'reactstrap';\r\n\r\n// User Privileges for accessible pages\r\nimport RoleModule from '../RoleModule';\r\n\r\n// RestApi Connection\r\nimport RestApiModule from '../RestApiModule';\r\n\r\n//Crypto Module\r\nimport CryptoModule from '../CryptoModule';\r\n\r\n//AuthModule\r\nimport AuthModule from '../AuthModule';\r\n\r\nimport LanguageButton from '../components/LanguageButton';\r\nimport Copyright from \"../components/Copyright\";\r\nimport Spinner from '../components/Spinner';\r\n\r\nimport {setAuthUser, setToken, spinnerToggle} from \"../redux/actions\";\r\n\r\nclass Login extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            loginError: false\r\n        }\r\n\r\n        this.roleModule = new RoleModule();\r\n        this.restApi = new RestApiModule();\r\n        this.crypto = new CryptoModule();\r\n        this.authModule = new AuthModule();\r\n    }\r\n\r\n    //sysadm\r\n    //sysadm4inwi\r\n    handleChange(event) {\r\n        this.setState({[event.target.name]: event.target.value});\r\n    }\r\n\r\n    validateForm() {\r\n        return this.state.username.length > 0 && this.state.password.length > 0;\r\n    }\r\n\r\n    handleSubmit() {\r\n        this.setState({loginError: !this.validateForm()})\r\n\r\n        if (this.validateForm()) {\r\n            this.props.setSpinner();\r\n            /*const u = this.crypto.encrypt(this.state.username);\r\n            const p = this.crypto.encrypt(this.state.password);\r\n            console.log(u);*/\r\n\r\n            this.authModule.login(\r\n                this.state.username,\r\n                this.state.password\r\n            ).then((r) => {\r\n                console.log(r);\r\n                this.props.setSpinner();\r\n                this.props.history.push('/matrix');\r\n\r\n            }).catch((e) => {\r\n                console.log(e)\r\n                this.props.setSpinner();\r\n\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {language} = this.props;\r\n\r\n        if (language !== null) {\r\n            return (\r\n                <Row className=\"h-100 justify-content-center align-items-center\">\r\n                    <Col xs={12} sm={8} md={4} className=\"mx-auto\">\r\n                        <Card className=\"login-card\">\r\n                            <CardBody className=\"text-center\">\r\n                                <Row>\r\n                                    <Col xs={8}>\r\n                                        <div className='logo'/>\r\n                                    </Col>\r\n                                    <Col xs={4} className={'text-right'}>\r\n                                        <LanguageButton buttonClass={'btn btn-sm btn-outline-dark'}/>\r\n                                    </Col>\r\n                                </Row>\r\n                                <hr/>\r\n\r\n                                <h3>{language.welcomeTo}</h3>\r\n                                <h1 className={'mb-3'}>{language.appName}</h1>\r\n\r\n                                <FormGroup>\r\n                                    <input type=\"text\" name={'username'}\r\n                                           className=\"form-control form-control-lg\"\r\n                                           onChange={this.handleChange.bind(this)}\r\n                                           placeholder={language.usernameInput}/>\r\n                                </FormGroup>\r\n                                <FormGroup>\r\n                                    <input type=\"password\" name={'password'}\r\n                                           className=\"form-control form-control-lg\"\r\n                                           onChange={this.handleChange.bind(this)}\r\n                                           placeholder={language.passwordInput}/>\r\n                                </FormGroup>\r\n                                <FormGroup>\r\n                                    <Button color={'primary'} block={true} size={'lg'}\r\n                                            onClick={this.handleSubmit.bind(this)}>\r\n                                        <i className=\"icon icon-arrow-right mr-2\"/>\r\n                                        {language.loginButtonText}\r\n                                    </Button>\r\n                                </FormGroup>\r\n\r\n                                {this.state.loginError &&\r\n                                <Alert color={'danger'}>\r\n                                    <i className=\"icon icon-triangle-warning mr-2\"/>\r\n                                    {language.loginError}\r\n                                </Alert>\r\n                                }\r\n                            </CardBody>\r\n                            <CardFooter className=\"text-right\">\r\n                                <Copyright/>\r\n                            </CardFooter>\r\n                        </Card>\r\n                    </Col>\r\n                    <Spinner/>\r\n                </Row>\r\n            )\r\n        } else {\r\n            return <></>;\r\n        }\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        language: state.language,\r\n        lang: state.lang,\r\n        serverPath: state.serverPath,\r\n    }\r\n}\r\n\r\nfunction mapStateToDispatch(dispatch) {\r\n    return {\r\n        setUser: (user) => dispatch(setAuthUser(user)),\r\n        setToken: (token) => dispatch(setToken(token)),\r\n        setSpinner: () => dispatch(spinnerToggle()),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapStateToDispatch)(withRouter(Login));"]},"metadata":{},"sourceType":"module"}